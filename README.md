# E-Learning System Using PHP/MySQLi

![PHP](https://img.shields.io/badge/PHP-777BB4?style=for-the-badge&logo=php&logoColor=white)
![MySQL](https://img.shields.io/badge/MySQL-4479A1?style=for-the-badge&logo=mysql&logoColor=white)
![Bootstrap](https://img.shields.io/badge/Bootstrap-563D7C?style=for-the-badge&logo=bootstrap&logoColor=white)
![JavaScript](https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black)

## ğŸ“– Tá»•ng quan

Há»‡ thá»‘ng E-Learning lÃ  má»™t ná»n táº£ng há»c trá»±c tuyáº¿n toÃ n diá»‡n Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ há»— trá»£ giÃ¡o viÃªn táº¡o, quáº£n lÃ½ vÃ  phÃ¢n phá»‘i ná»™i dung giÃ¡o dá»¥c má»™t cÃ¡ch dá»… dÃ ng. Há»‡ thá»‘ng cung cáº¥p tráº£i nghiá»‡m liá»n máº¡ch cho cáº£ giÃ¡o viÃªn vÃ  há»c sinh, bao gá»“m quáº£n lÃ½ bÃ i há»c, táº¡o bÃ i táº­p tráº¯c nghiá»‡m vÃ  cÃ´ng cá»¥ Ä‘Ã¡nh giÃ¡ há»c sinh.

### ğŸ¯ Má»¥c Ä‘Ã­ch

Há»‡ thá»‘ng nÃ y nháº±m:
- ÄÆ¡n giáº£n hÃ³a quy trÃ¬nh táº¡o vÃ  quáº£n lÃ½ bÃ i há»c trá»±c tuyáº¿n
- Cho phÃ©p giÃ¡o viÃªn táº£i lÃªn ná»™i dung Ä‘a phÆ°Æ¡ng tiá»‡n (video, PDF)
- Cung cáº¥p bÃ i táº­p tráº¯c nghiá»‡m vÃ  Ä‘Ã¡nh giÃ¡ tÆ°Æ¡ng tÃ¡c
- Theo dÃµi tiáº¿n Ä‘á»™ vÃ  hiá»‡u suáº¥t há»c táº­p cá»§a há»c sinh
- Táº¡o ná»n táº£ng táº­p trung cho viá»‡c phÃ¢n phá»‘i ná»™i dung giÃ¡o dá»¥c

## âœ¨ TÃ­nh nÄƒng

### ğŸ‘¨â€ğŸ’¼ TÃ­nh nÄƒng dÃ nh cho Quáº£n trá»‹ viÃªn/GiÃ¡o viÃªn

#### ğŸ“š Quáº£n lÃ½ BÃ i há»c
- **Danh sÃ¡ch BÃ i há»c**: Xem táº¥t cáº£ bÃ i há»c cÃ³ sáºµn má»™t cÃ¡ch cÃ³ tá»• chá»©c
- **Táº£i lÃªn BÃ i há»c**: ThÃªm ná»™i dung giÃ¡o dá»¥c má»›i (video, file PDF)
- **Chá»‰nh sá»­a BÃ i há»c**: Sá»­a Ä‘á»•i ná»™i dung vÃ  chi tiáº¿t bÃ i há»c hiá»‡n cÃ³
- **Thay Ä‘á»•i File**: Thay tháº¿ file bÃ i há»c báº±ng phiÃªn báº£n cáº­p nháº­t
- **Xem BÃ i há»c**: Xem trÆ°á»›c bÃ i há»c trÆ°á»›c khi xuáº¥t báº£n
- **XÃ³a BÃ i há»c**: XÃ³a ná»™i dung lá»—i thá»i hoáº·c khÃ´ng cáº§n thiáº¿t

#### ğŸ“ Quáº£n lÃ½ BÃ i táº­p & CÃ¢u há»i
- **Danh sÃ¡ch CÃ¢u há»i**: Xem táº¥t cáº£ cÃ¢u há»i tráº¯c nghiá»‡m vÃ  bÃ i táº­p
- **ThÃªm CÃ¢u há»i**: Táº¡o cÃ¢u há»i tráº¯c nghiá»‡m má»›i vá»›i cÃ¡c lá»±a chá»n
- **Chá»‰nh sá»­a CÃ¢u há»i**: Sá»­a Ä‘á»•i cÃ¢u há»i vÃ  Ä‘Ã¡p Ã¡n hiá»‡n cÃ³
- **XÃ³a CÃ¢u há»i**: XÃ³a cÃ¢u há»i lá»—i thá»i hoáº·c khÃ´ng chÃ­nh xÃ¡c
- **Quáº£n lÃ½ Danh má»¥c**: Tá»• chá»©c cÃ¢u há»i theo danh má»¥c (Technology, Science, Mathematics, Business, Language, Coding)
- **Quáº£n lÃ½ Chá»§ Ä‘á»**: PhÃ¢n loáº¡i cÃ¢u há»i theo chá»§ Ä‘á» cá»¥ thá»ƒ

#### ğŸ‘¥ Quáº£n lÃ½ Há»c sinh
- **Danh sÃ¡ch Há»c sinh**: Xem táº¥t cáº£ há»c sinh Ä‘Ã£ Ä‘Äƒng kÃ½
- **Theo dÃµi Tiáº¿n Ä‘á»™**: GiÃ¡m sÃ¡t hiá»‡u suáº¥t há»c táº­p cá»§a tá»«ng há»c sinh
- **Xem Káº¿t quáº£**: Xem Ä‘iá»ƒm sá»‘ vÃ  káº¿t quáº£ bÃ i táº­p cá»§a há»c sinh

#### ğŸ”§ Quáº£n lÃ½ NgÆ°á»i dÃ¹ng
- **Danh sÃ¡ch NgÆ°á»i dÃ¹ng**: Xem táº¥t cáº£ ngÆ°á»i dÃ¹ng há»‡ thá»‘ng (giÃ¡o viÃªn, quáº£n trá»‹ viÃªn)
- **ThÃªm NgÆ°á»i dÃ¹ng**: Táº¡o tÃ i khoáº£n ngÆ°á»i dÃ¹ng má»›i
- **Chá»‰nh sá»­a NgÆ°á»i dÃ¹ng**: Sá»­a Ä‘á»•i thÃ´ng tin vÃ  quyá»n háº¡n ngÆ°á»i dÃ¹ng
- **XÃ³a NgÆ°á»i dÃ¹ng**: XÃ³a ngÆ°á»i dÃ¹ng khÃ´ng hoáº¡t Ä‘á»™ng hoáº·c khÃ´ng Ä‘Æ°á»£c á»§y quyá»n

### ğŸ‘¨â€ğŸ“ TÃ­nh nÄƒng dÃ nh cho Há»c sinh

#### ğŸ” Quáº£n lÃ½ TÃ i khoáº£n
- **Táº¡o TÃ i khoáº£n**: ÄÄƒng kÃ½ tÃ i khoáº£n há»c sinh má»›i
- **ÄÄƒng nháº­p/ÄÄƒng xuáº¥t**: Há»‡ thá»‘ng xÃ¡c thá»±c an toÃ n
- **Quáº£n lÃ½ Há»“ sÆ¡**: Cáº­p nháº­t thÃ´ng tin cÃ¡ nhÃ¢n

#### ğŸ“– TÃ­nh nÄƒng Há»c táº­p
- **Xem BÃ i há»c**: Truy cáº­p ná»™i dung giÃ¡o dá»¥c Ä‘Ã£ táº£i lÃªn
- **Xem Ná»™i dung**: Äá»c ná»™i dung bÃ i há»c chi tiáº¿t vá»›i Ä‘á»‹nh dáº¡ng Markdown
- **LÃ m BÃ i táº­p**: Tham gia Ä‘Ã¡nh giÃ¡ tráº¯c nghiá»‡m tÆ°Æ¡ng tÃ¡c
- **Xem Káº¿t quáº£**: Há»‡ thá»‘ng cháº¥m Ä‘iá»ƒm vÃ  pháº£n há»“i tá»± Ä‘á»™ng
- **Táº£i xuá»‘ng BÃ i há»c**: LÆ°u ná»™i dung Ä‘á»ƒ há»c offline
- **Xem Video**: PhÃ¡t video bÃ i giáº£ng trá»±c tiáº¿p trÃªn há»‡ thá»‘ng
- **Xem PDF**: Äá»c tÃ i liá»‡u PDF ngay trÃªn trÃ¬nh duyá»‡t

## ğŸ› ï¸ CÃ´ng nghá»‡ sá»­ dá»¥ng

- **Backend**: PHP 7.4+ vá»›i MySQLi
- **Database**: MySQL 5.7+ / MariaDB 10.2+
- **Frontend**: HTML5, CSS3, JavaScript, Bootstrap 3/4
- **ThÆ° viá»‡n bá»• sung**:
  - jQuery - ThÆ° viá»‡n JavaScript
  - Bootstrap DatePicker - Chá»n ngÃ y thÃ¡ng
  - DataTables - Báº£ng dá»¯ liá»‡u tÆ°Æ¡ng tÃ¡c
  - Font Awesome - Icon fonts
  - jQuery UI - Giao diá»‡n ngÆ°á»i dÃ¹ng
  - Bootstrap WYSIHTML5 - TrÃ¬nh soáº¡n tháº£o vÄƒn báº£n
  - iCheck - Checkbox vÃ  radio button Ä‘áº¹p
  - SlimScroll - Thanh cuá»™n tÃ¹y chá»‰nh

## ğŸ“‹ YÃªu cáº§u Há»‡ thá»‘ng

- **Web Server**: Apache 2.4+ (khuyáº¿n nghá»‹ sá»­ dá»¥ng XAMPP)
- **PHP**: PhiÃªn báº£n 7.4 trá»Ÿ lÃªn
- **Database**: MySQL 5.7+ hoáº·c MariaDB 10.2+
- **TrÃ¬nh duyá»‡t**: TrÃ¬nh duyá»‡t web hiá»‡n Ä‘áº¡i (Chrome, Firefox, Safari, Edge)
- **Dung lÆ°á»£ng**: Tá»‘i thiá»ƒu 500MB cho há»‡ thá»‘ng vÃ  dá»¯ liá»‡u

## ğŸš€ HÆ°á»›ng dáº«n CÃ i Ä‘áº·t

### BÆ°á»›c 1: Táº£i pháº§n má»m cáº§n thiáº¿t
1. Táº£i vÃ  cÃ i Ä‘áº·t [XAMPP](https://www.apachefriends.org/download.html) (khuyáº¿n nghá»‹ phiÃªn báº£n 8.0+)
2. Táº£i mÃ£ nguá»“n há»‡ thá»‘ng E-Learning

### BÆ°á»›c 2: Thiáº¿t láº­p Web Server
1. Khá»Ÿi Ä‘á»™ng XAMPP Control Panel
2. Báº­t dá»‹ch vá»¥ **Apache** vÃ  **MySQL**
3. Äáº£m báº£o cáº£ hai dá»‹ch vá»¥ Ä‘ang cháº¡y (tráº¡ng thÃ¡i mÃ u xanh)

### BÆ°á»›c 3: Triá»ƒn khai MÃ£ nguá»“n
1. Äiá»u hÆ°á»›ng Ä‘áº¿n thÆ° má»¥c `C:\xampp\htdocs\`
2. Giáº£i nÃ©n file zip Ä‘Ã£ táº£i xuá»‘ng
3. Äá»•i tÃªn thÆ° má»¥c thÃ nh `elearning` (náº¿u chÆ°a Ä‘Æ°á»£c Ä‘áº·t tÃªn)

### BÆ°á»›c 4: Thiáº¿t láº­p CÆ¡ sá»Ÿ dá»¯ liá»‡u
1. Má»Ÿ trÃ¬nh duyá»‡t web
2. Truy cáº­p `http://localhost/phpmyadmin/`
3. Nháº¥p **"New"** Ä‘á»ƒ táº¡o cÆ¡ sá»Ÿ dá»¯ liá»‡u má»›i
4. Äáº·t tÃªn cÆ¡ sá»Ÿ dá»¯ liá»‡u: `dbcaiwl`
5. Nháº¥p **"Create"**

### BÆ°á»›c 5: Import CÆ¡ sá»Ÿ dá»¯ liá»‡u
1. Chá»n cÆ¡ sá»Ÿ dá»¯ liá»‡u `dbcaiwl`
2. Nháº¥p tab **"Import"**
3. Nháº¥p **"Choose File"**
4. Chá»n file `database/dbcaiwl.sql` tá»« thÆ° má»¥c dá»± Ã¡n
5. Nháº¥p **"Go"** Ä‘á»ƒ import cáº¥u trÃºc vÃ  dá»¯ liá»‡u

### BÆ°á»›c 6: Cáº¥u hÃ¬nh
1. Má»Ÿ file `include/config.php`
2. XÃ¡c minh cÃ i Ä‘áº·t káº¿t ná»‘i cÆ¡ sá»Ÿ dá»¯ liá»‡u:
   ```php
   defined('server') ? null : define("server", "localhost");
   defined('user') ? null : define("user", "root");
   defined('pass') ? null : define("pass", "");
   defined('database_name') ? null : define("database_name", "dbcaiwl");
   ```

### BÆ°á»›c 7: Truy cáº­p Há»‡ thá»‘ng
1. Má»Ÿ trÃ¬nh duyá»‡t web
2. Truy cáº­p `http://localhost/elearning/`
3. Há»‡ thá»‘ng Ä‘Ã£ sáºµn sÃ ng sá»­ dá»¥ng

## ğŸ”‘ ThÃ´ng tin ÄÄƒng nháº­p Máº·c Ä‘á»‹nh

### Truy cáº­p Quáº£n trá»‹ viÃªn
- **URL**: `http://localhost/elearning/admin/`
- **TÃªn Ä‘Äƒng nháº­p**: admin
- **Máº­t kháº©u**: admin

### Truy cáº­p Há»c sinh
- Há»c sinh cáº§n Ä‘Äƒng kÃ½ qua trang Ä‘Äƒng kÃ½
- **URL ÄÄƒng kÃ½**: `http://localhost/elearning/register.php`
- **URL ÄÄƒng nháº­p**: `http://localhost/elearning/login.php`

## ğŸ“ Cáº¥u trÃºc Dá»± Ã¡n

```
elearning/
â”œâ”€â”€ admin/                      # ThÆ° má»¥c quáº£n trá»‹
â”‚   â”œâ”€â”€ modules/               # CÃ¡c module quáº£n trá»‹ (lessons, exercises, users, students)
â”‚   â”œâ”€â”€ adminMenu/             # CÃ¡c thÃ nh pháº§n giao diá»‡n quáº£n trá»‹
â”‚   â”œâ”€â”€ navigation/            # Äiá»u hÆ°á»›ng quáº£n trá»‹
â”‚   â”œâ”€â”€ home.php              # Trang chá»§ quáº£n trá»‹
â”‚   â”œâ”€â”€ login.php             # ÄÄƒng nháº­p quáº£n trá»‹
â”‚   â””â”€â”€ sidebar.php           # Thanh bÃªn quáº£n trá»‹
â”œâ”€â”€ assets/                    # TÃ i nguyÃªn CSS, JS vÃ  cÃ¡c file khÃ¡c
â”‚   â”œâ”€â”€ bootstrap-wysihtml5/  # TrÃ¬nh soáº¡n tháº£o WYSIHTML5
â”‚   â”œâ”€â”€ css/                  # File CSS
â”‚   â”œâ”€â”€ iCheck/               # ThÆ° viá»‡n iCheck
â”‚   â”œâ”€â”€ js/                   # File JavaScript
â”‚   â””â”€â”€ slimScroll/           # ThÆ° viá»‡n SlimScroll
â”œâ”€â”€ css/                       # Stylesheet bá»• sung
â”œâ”€â”€ database/                  # ThÆ° má»¥c cÆ¡ sá»Ÿ dá»¯ liá»‡u
â”‚   â””â”€â”€ dbcaiwl.sql           # File SQL cÆ¡ sá»Ÿ dá»¯ liá»‡u
â”œâ”€â”€ dist/                      # File phÃ¢n phá»‘i
â”œâ”€â”€ fonts/                     # Font chá»¯
â”œâ”€â”€ images/                    # HÃ¬nh áº£nh há»‡ thá»‘ng
â”œâ”€â”€ img/                       # HÃ¬nh áº£nh bá»• sung
â”œâ”€â”€ include/                   # File PHP include vÃ  cáº¥u hÃ¬nh
â”‚   â””â”€â”€ config.php            # File cáº¥u hÃ¬nh chÃ­nh
â”œâ”€â”€ js/                        # File JavaScript
â”œâ”€â”€ jquery/                    # ThÆ° viá»‡n jQuery
â”œâ”€â”€ navigation/                # CÃ¡c thÃ nh pháº§n Ä‘iá»u hÆ°á»›ng
â”œâ”€â”€ about.php                  # Trang giá»›i thiá»‡u
â”œâ”€â”€ categories.php             # Trang danh má»¥c bÃ i táº­p
â”œâ”€â”€ content.php                # Trang ná»™i dung bÃ i há»c
â”œâ”€â”€ download.php               # Trang táº£i xuá»‘ng
â”œâ”€â”€ exercises.php              # Trang bÃ i táº­p
â”œâ”€â”€ home.php                   # Trang chá»§ (Ä‘Ã£ Ä‘Äƒng nháº­p)
â”œâ”€â”€ home_public.php            # Trang chá»§ cÃ´ng khai
â”œâ”€â”€ index.php                  # File chÃ­nh
â”œâ”€â”€ lesson.php                 # Trang danh sÃ¡ch bÃ i há»c
â”œâ”€â”€ login.php                  # ÄÄƒng nháº­p há»c sinh
â”œâ”€â”€ logout.php                 # ÄÄƒng xuáº¥t
â”œâ”€â”€ playvideo.php              # PhÃ¡t video
â”œâ”€â”€ question.php               # Trang cÃ¢u há»i
â”œâ”€â”€ quizresult.php             # Trang káº¿t quáº£ bÃ i táº­p
â”œâ”€â”€ register.php               # ÄÄƒng kÃ½ há»c sinh
â”œâ”€â”€ topics.php                 # Trang chá»§ Ä‘á»
â”œâ”€â”€ validation.php             # XÃ¡c thá»±c
â”œâ”€â”€ viewpdf.php                # Xem PDF
â””â”€â”€ README.md                  # File tÃ i liá»‡u nÃ y
```

## ğŸ”§ Cáº¥u hÃ¬nh

### Cáº¥u hÃ¬nh CÆ¡ sá»Ÿ dá»¯ liá»‡u
Chá»‰nh sá»­a `include/config.php` Ä‘á»ƒ phÃ¹ há»£p vá»›i cÃ i Ä‘áº·t cÆ¡ sá»Ÿ dá»¯ liá»‡u cá»§a báº¡n:

```php
<?php
defined('server') ? null : define("server", "localhost");
defined('user') ? null : define("user", "root");
defined('pass') ? null : define("pass", "");
defined('database_name') ? null : define("database_name", "dbcaiwl");
?>
```

### CÃ i Ä‘áº·t Upload File
Äáº£m báº£o cÃ i Ä‘áº·t PHP cho phÃ©p upload file (chá»‰nh sá»­a `php.ini`):
- `upload_max_filesize = 50M`
- `post_max_size = 50M`
- `max_execution_time = 300`
- `memory_limit = 256M`

### Cáº¥u hÃ¬nh Web Root
Há»‡ thá»‘ng tá»± Ä‘á»™ng phÃ¡t hiá»‡n web root. Náº¿u cáº§n thay Ä‘á»•i, chá»‰nh sá»­a trong `include/config.php`:
```php
define('web_root', '/elearning/');
define('server_root', 'C:/xampp/htdocs/elearning/');
```

## ğŸ¯ HÆ°á»›ng dáº«n Sá»­ dá»¥ng

### DÃ nh cho GiÃ¡o viÃªn/Quáº£n trá»‹ viÃªn:
1. ÄÄƒng nháº­p vÃ o báº£ng Ä‘iá»u khiá»ƒn quáº£n trá»‹ táº¡i `http://localhost/elearning/admin/`
2. Äiá»u hÆ°á»›ng Ä‘áº¿n **"Lessons"** Ä‘á»ƒ táº£i lÃªn ná»™i dung giÃ¡o dá»¥c (video, PDF)
3. Sá»­ dá»¥ng **"Exercises"** Ä‘á»ƒ táº¡o cÃ¢u há»i tráº¯c nghiá»‡m vÃ  Ä‘Ã¡nh giÃ¡
4. Quáº£n lÃ½ **"Categories"** Ä‘á»ƒ tá»• chá»©c cÃ¢u há»i theo danh má»¥c
5. Quáº£n lÃ½ **"Topics"** Ä‘á»ƒ phÃ¢n loáº¡i cÃ¢u há»i theo chá»§ Ä‘á»
6. Theo dÃµi tiáº¿n Ä‘á»™ há»c sinh qua **"Students"**
7. Quáº£n lÃ½ ngÆ°á»i dÃ¹ng há»‡ thá»‘ng qua **"Users"**

### DÃ nh cho Há»c sinh:
1. ÄÄƒng kÃ½ tÃ i khoáº£n má»›i táº¡i `http://localhost/elearning/register.php`
2. ÄÄƒng nháº­p vá»›i thÃ´ng tin Ä‘Äƒng nháº­p cá»§a báº¡n
3. Duyá»‡t cÃ¡c bÃ i há»c cÃ³ sáºµn trong **"Lesson"**
4. Xem ná»™i dung chi tiáº¿t bÃ i há»c vá»›i Ä‘á»‹nh dáº¡ng Markdown
5. Chá»n **"Categories"** Ä‘á»ƒ xem danh má»¥c bÃ i táº­p
6. Chá»n **"Topics"** Ä‘á»ƒ xem chá»§ Ä‘á» cá»¥ thá»ƒ
7. LÃ m bÃ i táº­p tráº¯c nghiá»‡m Ä‘á»ƒ kiá»ƒm tra kiáº¿n thá»©c
8. Xem káº¿t quáº£ vÃ  Ä‘iá»ƒm sá»‘ ngay láº­p tá»©c
9. Táº£i xuá»‘ng tÃ i liá»‡u Ä‘á»ƒ há»c offline
10. Xem video bÃ i giáº£ng trá»±c tiáº¿p trÃªn há»‡ thá»‘ng

## ğŸ¤– TÃ­ch há»£p Gemini API Ä‘á»ƒ táº¡o cÃ¢u há»i tá»± Ä‘á»™ng

Há»‡ thá»‘ng cÃ³ thá»ƒ tÃ­ch há»£p vá»›i Gemini API cá»§a Google Ä‘á»ƒ sinh tá»± Ä‘á»™ng cÃ¡c cÃ¢u há»i tráº¯c nghiá»‡m dá»±a trÃªn ná»™i dung bÃ i há»c hoáº·c chá»§ Ä‘á» báº¡n cung cáº¥p.

### YÃªu cáº§u
- TÃ i khoáº£n Google vÃ  quyá»n truy cáº­p [Google AI Studio](https://ai.google.dev/)
- API Key cá»§a Gemini (cÃ³ gÃ³i miá»…n phÃ­)

### Cáº¥u hÃ¬nh nhanh
1. Táº¡o API Key trong Google AI Studio.
2. LÆ°u trá»¯ khÃ³a an toÃ n. CÃ³ 2 cÃ¡ch khuyáº¿n nghá»‹:
   - Khai bÃ¡o trong `include/config.php`:
     ```php
     <?php
     // ... cÃ¡c cáº¥u hÃ¬nh sáºµn cÃ³ ...
     define('GEMINI_API_KEY', 'YOUR_GEMINI_API_KEY_HERE');
     ?>
     ```
   - Hoáº·c Ä‘áº·t biáº¿n mÃ´i trÆ°á»ng `GEMINI_API_KEY` trÃªn mÃ¡y chá»§ vÃ  Ä‘á»c trong PHP (khuyáº¿n nghá»‹ cho mÃ´i trÆ°á»ng production).

### CÃ¡ch hoáº¡t Ä‘á»™ng
á»¨ng dá»¥ng sáº½ gá»i endpoint `generateContent` cá»§a Gemini Ä‘á»ƒ táº¡o danh sÃ¡ch cÃ¢u há»i theo prompt báº¡n Ä‘Æ°a vÃ o. Báº¡n cÃ³ thá»ƒ chá»‰ Ä‘á»‹nh sá»‘ lÆ°á»£ng cÃ¢u há»i, Ä‘á»™ khÃ³, Ä‘á»‹nh dáº¡ng JSON, vÃ  yÃªu cáº§u Ä‘Ã¡p Ã¡n kÃ¨m giáº£i thÃ­ch.

### VÃ­ dá»¥ PHP (gá»£i Ã½ tÃ­ch há»£p vÃ o tÃ­nh nÄƒng táº¡o bÃ i táº­p)
VÃ­ dá»¥ tá»‘i giáº£n dÆ°á»›i Ä‘Ã¢y minh há»a cÃ¡ch gá»i Gemini Ä‘á»ƒ sinh 5 cÃ¢u há»i tráº¯c nghiá»‡m theo Ä‘á»‹nh dáº¡ng JSON dá»… lÆ°u vÃ o CSDL.

```php
$apiKey = defined('GEMINI_API_KEY') ? GEMINI_API_KEY : getenv('GEMINI_API_KEY');
$model  = 'gemini-1.5-flash';
$url    = "https://generativelanguage.googleapis.com/v1beta/models/{$model}:generateContent?key=" . urlencode($apiKey);

$lessonText = "Giáº£i thÃ­ch chu trÃ¬nh nÆ°á»›c vÃ  cÃ¡c giai Ä‘oáº¡n cá»§a nÃ³."; // Thay báº±ng ná»™i dung bÃ i há»c
$prompt = "" .
  "Báº¡n lÃ  giÃ¡o viÃªn chuyÃªn gia. HÃ£y táº¡o 5 cÃ¢u há»i tráº¯c nghiá»‡m (MCQ) dá»±a trÃªn Ä‘oáº¡n vÄƒn dÆ°á»›i Ä‘Ã¢y.\n" .
  "Má»—i cÃ¢u gá»“m: question, options (A-D), correctOption, explanation.\n" .
  "Tráº£ vá» Má»˜T máº£ng JSON thuáº§n gá»“m cÃ¡c Ä‘á»‘i tÆ°á»£ng: {question, options: {A,B,C,D}, correctOption, explanation}.\n\n" .
  "VÄ‚N Báº¢N:\n{$lessonText}";

$payload = [
    'contents' => [[
        'parts' => [[ 'text' => $prompt ]]
    ]],
    'generationConfig' => [
        'temperature' => 0.4,
        'maxOutputTokens' => 1024
    ]
];

$ch = curl_init($url);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_HTTPHEADER, ['Content-Type: application/json']);
curl_setopt($ch, CURLOPT_POST, true);
curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($payload));
$response = curl_exec($ch);
if ($response === false) {
    die('Curl error: ' . curl_error($ch));
}
curl_close($ch);

$data = json_decode($response, true);
$text = $data['candidates'][0]['content']['parts'][0]['text'] ?? '';

// Cá»‘ gáº¯ng parse JSON tá»« pháº£n há»“i cá»§a model
$questions = json_decode($text, true);
if (json_last_error() !== JSON_ERROR_NONE) {
    if (preg_match('/\[[\s\S]*\]/', $text, $m)) {
        $questions = json_decode($m[0], true);
    }
}

if (!is_array($questions)) {
    die('KhÃ´ng parse Ä‘Æ°á»£c JSON cÃ¢u há»i. Ná»™i dung model: ' . htmlspecialchars($text));
}

// $questions lÃ  máº£ng cÃ¡c MCQ cÃ³ thá»ƒ lÆ°u vÃ o CSDL cá»§a báº¡n
foreach ($questions as $q) {
    // LÆ°u $q['question'], $q['options']['A'..'D'], $q['correctOption'], $q['explanation']
}
```

### Máº¹o prompt
- **RÃµ rÃ ng Ä‘á»‹nh dáº¡ng**: yÃªu cáº§u JSON nghiÃªm ngáº·t Ä‘á»ƒ dá»… parse.
- **Giá»›i háº¡n Ä‘á»™ khÃ³**: chá»‰ Ä‘á»‹nh cáº¥p lá»›p hoáº·c má»©c Bloom.
- **Kiá»ƒm soÃ¡t Ä‘á»™ dÃ i**: giá»›i háº¡n token, Ä‘á»™ dÃ i giáº£i thÃ­ch.
- **Cung cáº¥p ngá»¯ cáº£nh**: Ä‘Æ°a Ä‘oáº¡n bÃ i há»c hoáº·c má»¥c tiÃªu.

### LÆ°u Ã½
- Báº£o máº­t API key; khÃ´ng commit vÃ o mÃ£ nguá»“n.
- Kiá»ƒm tra Ä‘iá»u khoáº£n vÃ  chi phÃ­ cá»§a Google AI trÆ°á»›c khi dÃ¹ng production.
- ThÃªm retry vÃ  xá»­ lÃ½ lá»—i máº¡ng khi triá»ƒn khai thá»±c táº¿.

## ğŸ› Kháº¯c phá»¥c Sá»± cá»‘

### CÃ¡c váº¥n Ä‘á» thÆ°á»ng gáº·p:

**Lá»—i Káº¿t ná»‘i CÆ¡ sá»Ÿ dá»¯ liá»‡u**
- XÃ¡c minh dá»‹ch vá»¥ MySQL Ä‘ang cháº¡y trong XAMPP
- Kiá»ƒm tra thÃ´ng tin Ä‘Äƒng nháº­p cÆ¡ sá»Ÿ dá»¯ liá»‡u trong `include/config.php`
- Äáº£m báº£o cÆ¡ sá»Ÿ dá»¯ liá»‡u `dbcaiwl` tá»“n táº¡i
- Kiá»ƒm tra port MySQL (máº·c Ä‘á»‹nh: 3306)

**Váº¥n Ä‘á» Upload File**
- Kiá»ƒm tra cÃ i Ä‘áº·t upload file trong `php.ini`
- XÃ¡c minh quyá»n truy cáº­p thÆ° má»¥c upload
- Äáº£m báº£o Ä‘á»§ dung lÆ°á»£ng Ä‘Ä©a
- Kiá»ƒm tra kÃ­ch thÆ°á»›c file khÃ´ng vÆ°á»£t quÃ¡ giá»›i háº¡n

**Váº¥n Ä‘á» ÄÄƒng nháº­p**
- XÃ³a cache vÃ  cookies trÃ¬nh duyá»‡t
- XÃ¡c minh thÃ´ng tin Ä‘Äƒng nháº­p trong cÆ¡ sá»Ÿ dá»¯ liá»‡u
- Kiá»ƒm tra cáº¥u hÃ¬nh session trong PHP
- Äáº£m báº£o thÆ° má»¥c session cÃ³ quyá»n ghi

**Lá»—i 404 Not Found**
- Kiá»ƒm tra Ä‘Æ°á»ng dáº«n web root trong `config.php`
- XÃ¡c minh Apache Ä‘ang cháº¡y
- Kiá»ƒm tra file `.htaccess` (náº¿u cÃ³)

**Video/PDF khÃ´ng hiá»ƒn thá»‹**
- Kiá»ƒm tra Ä‘Æ°á»ng dáº«n file trong cÆ¡ sá»Ÿ dá»¯ liá»‡u
- XÃ¡c minh file tá»“n táº¡i trong thÆ° má»¥c
- Kiá»ƒm tra quyá»n truy cáº­p file

## ğŸ“Š Cáº¥u trÃºc CÆ¡ sá»Ÿ dá»¯ liá»‡u

Há»‡ thá»‘ng sá»­ dá»¥ng cÃ¡c báº£ng chÃ­nh sau:

- **tblautonumbers**: Quáº£n lÃ½ sá»‘ tá»± Ä‘á»™ng tÄƒng
- **tblcategories**: Danh má»¥c cÃ¢u há»i (Technology, Science, Mathematics, Business, Language, Coding)
- **tblcontent**: Ná»™i dung bÃ i há»c chi tiáº¿t
- **tblexercise**: BÃ i táº­p vÃ  cÃ¢u há»i tráº¯c nghiá»‡m
- **tbllesson**: ThÃ´ng tin bÃ i há»c (video, PDF)
- **tblstudent**: ThÃ´ng tin há»c sinh
- **tbltopic**: Chá»§ Ä‘á» bÃ i táº­p
- **tbluser**: NgÆ°á»i dÃ¹ng há»‡ thá»‘ng (admin, giÃ¡o viÃªn)
- **tblscore**: Äiá»ƒm sá»‘ vÃ  káº¿t quáº£ bÃ i táº­p

## ğŸ”’ Báº£o máº­t

### Khuyáº¿n nghá»‹ Báº£o máº­t:
- Thay Ä‘á»•i máº­t kháº©u admin máº·c Ä‘á»‹nh ngay sau khi cÃ i Ä‘áº·t
- Sá»­ dá»¥ng máº­t kháº©u máº¡nh cho táº¥t cáº£ tÃ i khoáº£n
- Cáº­p nháº­t PHP vÃ  MySQL thÆ°á»ng xuyÃªn
- Sao lÆ°u cÆ¡ sá»Ÿ dá»¯ liá»‡u Ä‘á»‹nh ká»³
- Háº¡n cháº¿ quyá»n truy cáº­p thÆ° má»¥c admin
- Sá»­ dá»¥ng HTTPS trong mÃ´i trÆ°á»ng production
- XÃ¡c thá»±c vÃ  lÃ m sáº¡ch táº¥t cáº£ input tá»« ngÆ°á»i dÃ¹ng

## ğŸ¤ ÄÃ³ng gÃ³p

1. Fork repository
2. Táº¡o nhÃ¡nh tÃ­nh nÄƒng (`git checkout -b feature/tinh-nang-moi`)
3. Commit thay Ä‘á»•i (`git commit -am 'ThÃªm tÃ­nh nÄƒng má»›i'`)
4. Push lÃªn nhÃ¡nh (`git push origin feature/tinh-nang-moi`)
5. Táº¡o Pull Request

## ğŸ“ Giáº¥y phÃ©p

Dá»± Ã¡n nÃ y lÃ  mÃ£ nguá»“n má»Ÿ vÃ  cÃ³ sáºµn theo [Giáº¥y phÃ©p MIT](LICENSE).

## ğŸ“ Há»— trá»£

Äá»ƒ Ä‘Æ°á»£c há»— trá»£ vÃ  Ä‘áº·t cÃ¢u há»i:
- Táº¡o issue trong repository
- Kiá»ƒm tra tÃ i liá»‡u hÆ°á»›ng dáº«n
- Xem láº¡i pháº§n kháº¯c phá»¥c sá»± cá»‘

## ğŸ”„ Lá»‹ch sá»­ PhiÃªn báº£n

- **v1.0.0** - PhÃ¡t hÃ nh ban Ä‘áº§u vá»›i cÃ¡c tÃ­nh nÄƒng cá»‘t lÃµi
  - Quáº£n lÃ½ bÃ i há»c (video, PDF)
  - Há»‡ thá»‘ng cÃ¢u há»i tráº¯c nghiá»‡m
  - Quáº£n lÃ½ ngÆ°á»i dÃ¹ng vÃ  há»c sinh
  - Há»‡ thá»‘ng danh má»¥c vÃ  chá»§ Ä‘á»
  - Cháº¥m Ä‘iá»ƒm tá»± Ä‘á»™ng

## ğŸš€ TÃ­nh nÄƒng TÆ°Æ¡ng lai

- [ ] TÃ­ch há»£p Gemini API Ä‘á»ƒ táº¡o cÃ¢u há»i tá»± Ä‘á»™ng
- [ ] Há»‡ thá»‘ng thÃ´ng bÃ¡o real-time
- [ ] Diá»…n Ä‘Ã n tháº£o luáº­n
- [ ] Há»‡ thá»‘ng badge vÃ  thÃ nh tÃ­ch
- [ ] Xuáº¥t bÃ¡o cÃ¡o PDF
- [ ] á»¨ng dá»¥ng mobile
- [ ] Há»— trá»£ Ä‘a ngÃ´n ngá»¯

---

**LÆ°u Ã½**: Há»‡ thá»‘ng nÃ y Ä‘Æ°á»£c thiáº¿t káº¿ cho má»¥c Ä‘Ã­ch giÃ¡o dá»¥c vÃ  cÃ³ thá»ƒ cáº§n cÃ¡c biá»‡n phÃ¡p báº£o máº­t bá»• sung khi triá»ƒn khai production.