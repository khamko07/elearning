<!DOCTYPE html>
<html lang="vi" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo Lazy Loading - E-Learning System</title>
    
    <!-- Bootstrap 5 -->
    <link href="css/bootstrap5.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link href="fonts/font-awesome.min.css" rel="stylesheet">
    
    <!-- Our Design System -->
    <link href="assets/css/main.css" rel="stylesheet">
</head>
<body>
    <div class="container py-5">
        <h1 class="mb-4">Demo Lazy Loading</h1>
        
        <!-- Lazy Loading Images -->
        <section class="mb-5">
            <h2 class="mb-3">Lazy Loading Images</h2>
            <div class="row">
                <div class="col-md-4 mb-4">
                    <div class="card">
                        <img 
                            data-src="https://picsum.photos/400/300?random=1" 
                            alt="Demo Image 1"
                            class="card-img-top"
                            width="400"
                            height="300"
                            loading="lazy">
                        <div class="card-body">
                            <h5 class="card-title">Bài học 1</h5>
                            <p class="card-text">Nội dung bài học với hình ảnh lazy loading</p>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4 mb-4">
                    <div class="card">
                        <img 
                            data-src="https://picsum.photos/400/300?random=2" 
                            alt="Demo Image 2"
                            class="card-img-top"
                            width="400"
                            height="300"
                            loading="lazy">
                        <div class="card-body">
                            <h5 class="card-title">Bài học 2</h5>
                            <p class="card-text">Nội dung bài học với hình ảnh lazy loading</p>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4 mb-4">
                    <div class="card">
                        <img 
                            data-src="https://picsum.photos/400/300?random=3" 
                            alt="Demo Image 3"
                            class="card-img-top"
                            width="400"
                            height="300"
                            loading="lazy">
                        <div class="card-body">
                            <h5 class="card-title">Bài học 3</h5>
                            <p class="card-text">Nội dung bài học với hình ảnh lazy loading</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Lazy Loading Content -->
        <section class="mb-5">
            <h2 class="mb-3">Lazy Loading Content</h2>
            <div class="row">
                <div class="col-md-6 mb-4">
                    <div 
                        class="card h-100"
                        data-lazy-content="demo-content-1.json"
                        data-content-type="json"
                        data-skeleton-type="card">
                        <!-- Content will be loaded here -->
                    </div>
                </div>
                
                <div class="col-md-6 mb-4">
                    <div 
                        class="card h-100"
                        data-lazy-content="demo-content-2.html"
                        data-content-type="html"
                        data-skeleton-type="card">
                        <!-- Content will be loaded here -->
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Skeleton Placeholders Demo -->
        <section class="mb-5">
            <h2 class="mb-3">Skeleton Placeholders</h2>
            
            <div class="row mb-4">
                <div class="col-md-4">
                    <h4>Card Skeleton</h4>
                    <div class="skeleton-card">
                        <div class="skeleton-image"></div>
                        <div class="skeleton-content">
                            <div class="skeleton-line skeleton-line-75"></div>
                            <div class="skeleton-line skeleton-line-50"></div>
                            <div class="skeleton-line skeleton-line-25"></div>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4">
                    <h4>List Skeleton</h4>
                    <div class="skeleton-list">
                        <div class="skeleton-list-item">
                            <div class="skeleton-avatar"></div>
                            <div class="skeleton-content">
                                <div class="skeleton-line skeleton-line-75"></div>
                                <div class="skeleton-line skeleton-line-50"></div>
                            </div>
                        </div>
                        <div class="skeleton-list-item">
                            <div class="skeleton-avatar"></div>
                            <div class="skeleton-content">
                                <div class="skeleton-line skeleton-line-75"></div>
                                <div class="skeleton-line skeleton-line-50"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4">
                    <h4>Table Skeleton</h4>
                    <div class="skeleton-table">
                        <div class="skeleton-table-header">
                            <div class="skeleton-line skeleton-line-full"></div>
                            <div class="skeleton-line skeleton-line-full"></div>
                            <div class="skeleton-line skeleton-line-full"></div>
                            <div class="skeleton-line skeleton-line-full"></div>
                        </div>
                        <div class="skeleton-table-row">
                            <div class="skeleton-line skeleton-line-75"></div>
                            <div class="skeleton-line skeleton-line-75"></div>
                            <div class="skeleton-line skeleton-line-75"></div>
                            <div class="skeleton-line skeleton-line-75"></div>
                        </div>
                        <div class="skeleton-table-row">
                            <div class="skeleton-line skeleton-line-75"></div>
                            <div class="skeleton-line skeleton-line-75"></div>
                            <div class="skeleton-line skeleton-line-75"></div>
                            <div class="skeleton-line skeleton-line-75"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- More Images for Scrolling Demo -->
        <section class="mb-5">
            <h2 class="mb-3">Scroll để xem Lazy Loading</h2>
            <div class="row">
                <?php for ($i = 4; $i <= 20; $i++): ?>
                <div class="col-md-3 mb-4">
                    <div class="card">
                        <img 
                            data-src="https://picsum.photos/300/200?random=<?php echo $i; ?>" 
                            alt="Demo Image <?php echo $i; ?>"
                            class="card-img-top"
                            width="300"
                            height="200"
                            loading="lazy">
                        <div class="card-body">
                            <h6 class="card-title">Hình ảnh <?php echo $i; ?></h6>
                            <small class="text-muted">Lazy loaded image</small>
                        </div>
                    </div>
                </div>
                <?php endfor; ?>
            </div>
        </section>
        
        <!-- Video Lazy Loading -->
        <section class="mb-5">
            <h2 class="mb-3">Video Lazy Loading</h2>
            <div class="row">
                <div class="col-md-6 mb-4">
                    <video 
                        class="w-100"
                        data-src="https://sample-videos.com/zip/10/mp4/SampleVideo_1280x720_1mb.mp4"
                        data-type="video/mp4"
                        controls
                        poster="https://picsum.photos/640/360?random=video1">
                        Video không được hỗ trợ
                    </video>
                </div>
                
                <div class="col-md-6 mb-4">
                    <video 
                        class="w-100"
                        data-src="https://sample-videos.com/zip/10/mp4/SampleVideo_1280x720_2mb.mp4"
                        data-type="video/mp4"
                        controls
                        poster="https://picsum.photos/640/360?random=video2">
                        Video không được hỗ trợ
                    </video>
                </div>
            </div>
        </section>
    </div>
    
    <!-- Scripts -->
    <script src="js/jquery.js"></script>
    <script src="js/bootstrap5.min.js"></script>
    <script src="assets/js/theme-manager.js"></script>
    <script src="assets/js/lazy-loading.js"></script>
    
    <script>
        // Demo event listeners
        document.addEventListener('lazyloaded', function(e) {
            console.log('Lazy loaded:', e.detail.type, e.detail.element);
        });
        
        document.addEventListener('lazyerror', function(e) {
            console.log('Lazy loading error:', e.detail.type, e.detail.element);
        });
        
        // Simulate dynamic content loading
        setTimeout(() => {
            const dynamicContent = document.createElement('div');
            dynamicContent.className = 'col-md-4 mb-4';
            dynamicContent.innerHTML = `
                <div class="card">
                    <img 
                        data-src="https://picsum.photos/400/300?random=dynamic" 
                        alt="Dynamic Image"
                        class="card-img-top"
                        width="400"
                        height="300"
                        loading="lazy">
                    <div class="card-body">
                        <h5 class="card-title">Dynamic Content</h5>
                        <p class="card-text">This content was added dynamically</p>
                    </div>
                </div>
            `;
            
            document.querySelector('.row').appendChild(dynamicContent);
        }, 3000);
    </script>
</body>
</html>